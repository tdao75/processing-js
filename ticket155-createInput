p.createInput = function createInput(filename){
  if ((input != null) && filename.toLowerCase().endsWith(".gz")) 
     return new GZIPInputStream(input);
  else if ( input == null )
    return null;
  else
    return input;
};
